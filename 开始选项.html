<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>START</title>
    <link
      rel="stylesheet"
      href="https://fontsapi.zeoseven.com/292/main/result.css"
    />
  </head>

  <body>
    <style>
      /* === æ ¸å¿ƒé…è‰² === */
      :root {
        --dark-red: #c92a2a;
        --blood-red: #e03131;
        --light-red: #ff6b6b;
        --dark-gray: #1a1a1a;
        --gray: #2a2a2a;
        --light-gray: #3a3a3a;
        --text-main: #e0e0e0;
        --text-dim: #999;
        --text-dimmer: #666;
        --gold: #ffd700;
        --silver: #c0c0c0;
        --border: rgba(220, 20, 60, 0.2);
        --hover-bg: rgba(220, 20, 60, 0.08);
      }

      [data-theme="light"] {
        --dark-red: #c92a2a;
        --blood-red: #e03131;
        --light-red: #ff6b6b;
        --dark-gray: #f5f5f5;
        --gray: #ececec;
        --light-gray: #e0e0e0;
        --text-main: #2a2a2a;
        --text-dim: #666;
        --text-dimmer: #999;
        --gold: #d97706;
        --silver: #6b7280;
        --border: rgba(220, 20, 60, 0.15);
        --hover-bg: rgba(220, 20, 60, 0.05);
      }

      * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

      body {
        font-family: "Noto Sans SC", -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
        color: var(--text-main);
        line-height: 1.6;
        background: var(--dark-gray);
      }

      .container {
        width: 100%;
        max-width: 850px;
        margin: 0 auto;
        background: var(--dark-gray);
        font-size: 14px;
        position: relative;
        min-height: 100vh;
        padding-bottom: 80px;
      }

      /* Header */
      .header {
        background: var(--blood-red);
        padding: 10px 16px;
        position: sticky;
        top: 0;
        z-index: 100;
        border-bottom: 1px solid var(--border);
        box-shadow: 0 2px 10px rgba(0,0,0,0.2);
      }

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .header h1 { font-size: 1.1em; font-weight: 700; color: #fff; }
      
      .theme-toggle {
        background: rgba(255, 255, 255, 0.2);
        border: none; color: #fff; padding: 6px 12px;
        border-radius: 4px; cursor: pointer; transition: background 0.2s;
      }

      /* Content */
      .content { padding: 12px; }
      .page { display: none; animation: fadeIn 0.4s ease-out; }
      .page.active { display: block; }
      @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

      .page-title { font-size: 1.2em; font-weight: bold; color: var(--blood-red); margin-bottom: 12px; text-align: center; }
      .page-desc { color: var(--text-dim); text-align: center; margin-bottom: 20px; font-size: 0.95em; }

      /* Grid Options - 5åˆ—å¸ƒå±€ */
      .options-grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 8px;
        margin-bottom: 20px;
      }

      .option-card {
        background: var(--light-gray);
        border: 2px solid transparent;
        border-radius: 6px;
        padding: 8px 4px;
        text-align: center;
        cursor: pointer;
        transition: all 0.2s ease-out;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 85px;
      }

      .option-card:hover { border-color: var(--blood-red); transform: translateY(-2px); }
      .option-card.selected {
        background: linear-gradient(135deg, var(--blood-red), var(--dark-red));
        border-color: var(--gold);
        box-shadow: 0 0 10px rgba(220, 20, 60, 0.4);
      }

      .option-card .icon { font-size: 1.6em; margin-bottom: 4px; }
      .option-card .label { 
        font-size: 0.8em; 
        font-weight: 600; 
        color: var(--text-main); 
        line-height: 1.2; 
        word-break: break-all; 
      }
      .option-card.selected .label { color: #fff; }

      .custom-input {
        width: 100%; background: rgba(0,0,0,0.3);
        border: 1px solid var(--border); border-radius: 4px;
        padding: 4px; color: #fff; font-size: 0.75em;
        margin-top: 4px; text-align: center;
      }
      .custom-input:focus { border-color: var(--gold); outline: none; background: rgba(0,0,0,0.5); }
      .option-card.selected .custom-input { border-color: var(--gold); background: rgba(0,0,0,0.2); }

      /* Sliders */
      .slider-section { margin-bottom: 20px; background: var(--light-gray); padding: 12px; border-radius: 8px; border: 1px solid var(--border); }
      .slider-group-title { color: var(--gold); font-size: 0.9em; font-weight: bold; margin-bottom: 12px; border-bottom: 1px solid var(--gray); padding-bottom: 6px; }
      
      .slider-row { display: flex; align-items: center; margin-bottom: 10px; gap: 8px; }
      .slider-label { width: 55px; font-size: 0.8em; color: var(--text-main); text-align: right; white-space: nowrap; }
      .slider-container { flex: 1; position: relative; display: flex; align-items: center; }
      
      input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; }
      input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none; height: 14px; width: 14px; border-radius: 50%;
        background: var(--gold); cursor: pointer; margin-top: -5px;
      }
      input[type=range]::-webkit-slider-runnable-track {
        width: 100%; height: 4px; cursor: pointer;
        background: var(--gray); border-radius: 2px;
      }
      .slider-val { width: 35px; text-align: right; font-size: 0.8em; color: var(--gold); font-family: monospace; }

      /* Progress */
      .progress-bar { width: 100%; height: 4px; background: var(--light-gray); border-radius: 2px; margin-bottom: 15px; overflow: hidden; }
      .progress-fill { height: 100%; background: linear-gradient(90deg, var(--blood-red), var(--light-red)); transition: width 0.3s; }

      /* Buttons */
      .nav-buttons { display: flex; gap: 10px; justify-content: center; padding: 15px 0; }
      .btn {
        padding: 8px 25px; border: none; border-radius: 50px;
        font-weight: 600; cursor: pointer; transition: all 0.2s; font-size: 0.9em;
      }
      .btn-prev { background: var(--light-gray); color: var(--text-main); }
      .btn-next { background: linear-gradient(135deg, var(--blood-red), var(--dark-red)); color: #fff; }
      .btn-submit { background: linear-gradient(135deg, var(--gold), #ff8c00); color: #000; }
      .btn:disabled { opacity: 0.5; cursor: not-allowed; background: var(--gray); }

      /* Info Bar */
      .bottom-info {
        background: var(--gray); border-top: 1px solid var(--border);
        padding: 8px 12px; position: fixed; bottom: 0; left: 0; right: 0; z-index: 90;
        font-size: 0.75em;
      }
      .info-grid { display: grid; grid-template-columns: repeat(5, 1fr); gap: 4px 8px; max-width: 850px; margin: 0 auto; }
      .info-item { display: flex; flex-direction: column; overflow: hidden; text-align: center; }
      .info-label { color: var(--text-dimmer); font-size: 0.85em; margin-bottom: 2px; }
      .info-value { color: var(--gold); font-weight: 600; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }

      /* Modals */
      .modal-overlay {
        display: none; position: fixed; top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(0,0,0,0.85); z-index: 1000; align-items: center; justify-content: center;
      }
      .modal-overlay.active { display: flex; }
      .modal-content {
        background: var(--dark-gray); border: 2px solid var(--blood-red);
        border-radius: 12px; padding: 25px; max-width: 380px; width: 90%; text-align: center;
        box-shadow: 0 8px 32px rgba(220, 20, 60, 0.2);
      }
      .modal-title { font-size: 1.2em; font-weight: 700; color: var(--blood-red); margin-bottom: 15px; }
      .modal-btn-confirm { background: var(--blood-red); color: #fff; width: 100%; border:none; padding:10px; border-radius:8px; cursor:pointer;}

      @media (max-width: 480px) {
        .info-grid { grid-template-columns: repeat(4, 1fr); }
      }
    </style>

    <div class="container">
      
      <div class="modal-overlay" id="confirmModal">
        <div class="modal-content">
          <div class="modal-title">ğŸ² æŒ‡ä»¤ç”Ÿæˆå®Œæ¯•</div>
          <div class="modal-message" style="margin-bottom:20px; color:var(--text-main);">
            åœºæ™¯æ•°æ®å·²å°è£…ã€‚<br>
            <span style="color:var(--text-dim); font-size:0.85em;">(åŒ…å«10é¡¹è®¾å®šä¸æ·±å±‚æ•°å€¼)</span>
          </div>
          <button class="modal-btn modal-btn-confirm" onclick="closeInfoModal()">å‘é€æŒ‡ä»¤</button>
        </div>
      </div>

      <div class="header">
        <div class="header-content">
          <h1>START</h1>
          <button class="theme-toggle" onclick="toggleTheme()">ğŸŒ™</button>
        </div>
      </div>

      <div class="content">
        <div class="progress-bar"><div class="progress-fill" id="progressBar"></div></div>

        <div id="pages-container"></div>

        <div class="page" id="page10">
          <div class="page-title">âš™ï¸ æ•°å€¼è°ƒå¾‹</div>
          <div class="page-desc">æ·±å±‚å±æ€§è°ƒæ•´ (0-100%)</div>
          
          <div class="slider-section">
            <div class="slider-group-title">1. {{ä¼˜}}Â·è‚‰ä½“å¼€å‘åº¦</div>
            <div id="sliders-dev"></div>
          </div>

          <div class="slider-section">
            <div class="slider-group-title">2. {{ä¼˜}}Â·æ¬²æœ›æŒ‡å‘</div>
            <div id="sliders-lust"></div>
          </div>

          <div class="slider-section">
            <div class="slider-group-title">3. {{ä¼˜}}Â·å¿ƒç†é˜²çº¿</div>
            <div class="slider-row">
              <span class="slider-label">å •è½å€¼</span>
              <div class="slider-container"><input type="range" id="slider_corruption" min="0" max="100" value="0" oninput="updateVal(this)"></div>
              <span class="slider-val" id="val_slider_corruption">0%</span>
            </div>
          </div>

          <div class="slider-section">
            <div class="slider-group-title">4. {{ç§€}}Â·è‹¦ä¸»å‚æ•°</div>
             <div class="slider-row">
              <span class="slider-label">ç»¿å¸½å€¼</span>
              <div class="slider-container"><input type="range" id="slider_cuckold" min="0" max="100" value="0" oninput="updateVal(this)"></div>
              <span class="slider-val" id="val_slider_cuckold">0%</span>
            </div>
            <div class="slider-row">
              <span class="slider-label">æ·«å¦»æ¬²</span>
              <div class="slider-container"><input type="range" id="slider_share" min="0" max="100" value="0" oninput="updateVal(this)"></div>
              <span class="slider-val" id="val_slider_share">0%</span>
            </div>
          </div>

          <div class="nav-buttons">
             <button class="btn btn-prev" onclick="prevPage()">è¿”å›</button>
             <button class="btn btn-submit" onclick="submitSelection()">å¯åŠ¨ç”Ÿæˆ</button>
             <button class="btn btn-next" onclick="randomSelection()" style="background:var(--gray);">éšæœº</button>
          </div>
        </div>
      </div>

      <div class="bottom-info">
        <div class="info-grid" id="info-grid"></div>
      </div>
    </div>

    <script>
      // === 1. æ•°æ®ç»“æ„ï¼šä¸¥æ ¼ 13é€‰é¡¹ + 1æœªå®šä¹‰ (æ¸²æŸ“æ—¶+1è‡ªå®šä¹‰ = 15) ===
      const pagesConfig = [
        { key: "style", title: "1. æ–‡é£/èƒŒæ™¯", desc: "å†³å®šä¸–ç•Œè§‚ä¸å™äº‹åŸºè°ƒ", 
          options: [
            {i:"ğŸ“–", l:"åŸè‘—æ–‡é£"}, {i:"ğŸ¬", l:"è½»æ¾è¯™è°"}, {i:"ğŸŒ‘", l:"ä¸¥è‚ƒæš—é»‘"}, {i:"ğŸŒ¸", l:"çº¯çˆ±/è½»å°è¯´"},
            {i:"âš”ï¸", l:"å²è¯—/æ­£å‰§"}, {i:"ğŸ”", l:"å®˜èƒ½/é«˜H"}, {i:"ğŸ‘»", l:"æ‚¬ç–‘/æƒŠæ‚š"}, {i:"ğŸ§ ", l:"å¿ƒç†/æ„è¯†æµ"},
            {i:"ğŸ“œ", l:"å¤ä»£/æ­¦ä¾ "}, {i:"ğŸ¤–", l:"ç§‘å¹»/èµ›åš"}, {i:"ğŸšï¸", l:"åºŸåœŸ/æœ«ä¸–"}, {i:"ğŸ§›", l:"å¸è¡€é¬¼/å“¥ç‰¹"},
            {i:"ğŸ‘¾", l:"å…‹è‹é²"}, {i:"ğŸš«", l:"æ— ç‰¹æ®Š/æ··åˆ"} // 13+1
          ]
        },
        { key: "youStatus", title: "2. {{ä¼˜}} çš„å¼€åœºçŠ¶æ€", desc: "{{ä¼˜}} æ­£åœ¨åšä»€ä¹ˆ",
          options: [
            {i:"ğŸŒŸ", l:"ä¸»è§’ç™»åœº"}, {i:"ğŸ›Œ", l:"ä¼‘æ¯/ç¡çœ "}, {i:"ğŸš¿", l:"æ²æµ´/æ¸…æ´"}, {i:"ğŸ·", l:"å¾®é†º/é†‰é…’"},
            {i:"ğŸ”®", l:"è¿œç¨‹é€šè®¯"}, {i:"ğŸ’„", l:"æ¢³å¦†æ‰“æ‰®"}, {i:"ğŸ§¹", l:"æ—¥å¸¸åŠ³ä½œ"}, {i:"ğŸ§˜â€â™€ï¸", l:"é”»ç‚¼/ä¿®è¡Œ"},
            {i:"ğŸ”—", l:"è¢«æ‹˜æŸä¸­"}, {i:"ğŸ˜¿", l:"å“­æ³£/æ‚²ä¼¤"}, {i:"ğŸ¤•", l:"å—ä¼¤/è™šå¼±"}, {i:"ğŸ", l:"è¿›é£Ÿ/ç”¨é¤"},
            {i:"ğŸ“š", l:"é˜…è¯»/å­¦ä¹ "}, {i:"âŒ", l:"æœªå‡ºåœº"} // 13+1
          ]
        },
        { key: "xiuStatus", title: "3. {{ç§€}} çš„å¼€åœºçŠ¶æ€", desc: "{{ç§€}} æ­£åœ¨åšä»€ä¹ˆ",
          options: [
            {i:"ğŸ’¼", l:"å…¬åŠ¡/åŠ³ä½œ"}, {i:"ğŸ", l:"èµ¶è·¯/é€”ä¸­"}, {i:"ğŸ®", l:"å¨±ä¹/æ¶ˆé£"}, {i:"ğŸ»", l:"åº”é…¬/å®´ä¼š"},
            {i:"ğŸ‹ï¸", l:"ä¿®ç‚¼/é”»ç‚¼"}, {i:"ğŸ³", l:"çƒ¹é¥ª/å‡†å¤‡"}, {i:"ğŸ’¤", l:"ç†Ÿç¡/æ— æ„è¯†"}, {i:"ğŸš¿", l:"æ²æµ´/æ›´è¡£"},
            {i:"ğŸ‘€", l:"æš—ä¸­è§‚å¯Ÿ"}, {i:"ğŸšª", l:"é—¨å¤–å·å¬"}, {i:"ğŸ©º", l:"æ¥å—æ²»ç–—"}, {i:"ğŸ—ºï¸", l:"è¿·è·¯/å—å›°"},
            {i:"ğŸ›ï¸", l:"å¤–å‡ºé‡‡è´­"}, {i:"âŒ", l:"æœªå‡ºåœº"}
          ]
        },
        { key: "npcStatus", title: "4. {{NPC}} çš„å¼€åœºçŠ¶æ€", desc: "{{NPC}} ç™»åœºåŠ¨ä½œ",
          options: [
            {i:"ğŸ””", l:"æ‹œè®¿/æ•²é—¨"}, {i:"ğŸª‘", l:"ç«¯åä¸Šä½"}, {i:"ğŸšª", l:"æ½œä¼æš—å¤„"}, {i:"ğŸ‘ï¸", l:"ç›‘è§†å™¨è§‚å¯Ÿ"},
            {i:"ğŸ“„", l:"è¯é¢˜è¢«æåŠ"}, {i:"ğŸ›ï¸", l:"æ¦»ä¸Šç­‰å¾…"}, {i:"ğŸ”®", l:"è¿œç¨‹å¨èƒ"}, {i:"ğŸ", l:"å¼‚åœ°/è§†è§’"},
            {i:"ğŸ˜·", l:"é®æ©é¢å®¹"}, {i:"ğŸ©¹", l:"å‡†å¤‡åˆ‘å…·"}, {i:"ğŸ“¦", l:"ä¼ªè£…é€è´§"}, {i:"ğŸ“¸", l:"æ‰‹æŒå½•åƒ"},
            {i:"ğŸ‘¥", l:"å¸¦äººå›´å µ"}, {i:"âŒ", l:"æœªå‡ºåœº"}
          ]
        },
        { key: "location", title: "5. åˆå§‹åœºæ™¯", desc: "æ•…äº‹å‘ç”Ÿçš„åœ°ç‚¹",
          options: [
            {i:"ğŸ ", l:"{{ä¼˜}}çš„å±…æ‰€"}, {i:"ğŸ›‹ï¸", l:"å…¬å…±å…å ‚"}, {i:"ğŸ›", l:"æµ´å®¤/å‡€èº«"}, {i:"ğŸ«", l:"å­¦ä¹ /ä¿®ç‚¼"},
            {i:"ğŸ¢", l:"å…¬åŠ¡/åŠå…¬"}, {i:"ğŸ¥", l:"åŒ»ç–—/æ²»æ„ˆ"}, {i:"ğŸš‡", l:"äº¤é€šå·¥å…·"}, {i:"ğŸŒ³", l:"é‡å¤–/è‡ªç„¶"},
            {i:"ğŸ©", l:"æ—…åº—/å®¢æ ˆ"}, {i:"ğŸ°", l:"åœ°ä¸‹/å¯†å®¤"}, {i:"ğŸ–ï¸", l:"æ°´è¾¹/åº¦å‡"}, {i:"â›ª", l:"ç¥­ç¥€/ç¥åœ£"},
            {i:"ğŸ•‹", l:"ç®±æŸœ/ç‹­é—´"}, {i:"ğŸŒŒ", l:"æœªçŸ¥"}
          ]
        },
        { key: "pov", title: "6. æå†™è§†è§’", desc: "å†³å®šå™äº‹çš„ç¬¬ä¸€è§†è§’æˆ–é•œå¤´",
          options: [
            {i:"ğŸ‘©", l:"ç¬¬ä¸€äººç§°:{{ä¼˜}}"}, {i:"ğŸ‘¨", l:"ç¬¬ä¸€äººç§°:{{ç§€}}"}, {i:"ğŸ‘¤", l:"ç¬¬ä¸€äººç§°:{{NPC}}"}, {i:"ğŸ‘ï¸", l:"ç¬¬ä¸‰äººç§°"},
            {i:"ğŸ­", l:"ç¾¤åƒ(å¤šè§†)"}, {i:"ğŸ®", l:"ç¬¬äºŒäººç§°"}, {i:"ğŸ“¹", l:"ç›‘æ§/é•œå¤´"}, {i:"ğŸ“–", l:"æ—ç™½(å®¢è§‚)"},
            {i:"ğŸ§¸", l:"ç‰©å“/ç¯å¢ƒ"}, {i:"ğŸ§ ", l:"å¿ƒç†ç‹¬ç™½"}, {i:"ğŸ‘¥", l:"è·¯äºº/ç¾¤ä¼—"}, {i:"ğŸ‘»", l:"çµé­‚/å¹½çµ"},
            {i:"ğŸ“œ", l:"æ—¥è®°/è®°å½•"}, {i:"â˜ï¸", l:"ä¸Šå¸è§†è§’"}
          ]
        },
        { key: "trade", title: "7. åè®®/å…±è¯†/äº¤æ˜“", desc: "åŸºäºåˆ©ç›Šäº¤æ¢çš„å‰§æƒ…å±•å¼€",
          options: [
            {i:"ğŸ’¸", l:"è‚‰å¿æŠµå€º"}, {i:"ğŸ“ˆ", l:"åœ°ä½/æ™‹å‡"}, {i:"ğŸ›¡ï¸", l:"å¯»æ±‚åº‡æŠ¤"}, {i:"ğŸ’°", l:"é‡‘é’±äº¤æ˜“"},
            {i:"ğŸ¤", l:"ç§˜å¯†æŠŠæŸ„"}, {i:"ğŸ¤", l:"é»˜è®¸å…±äº«"}, {i:"ğŸ ", l:"ä½æ‰€å€Ÿç”¨"}, {i:"ğŸ’Š", l:"æ²»ç–—/ä¿®å¤"},
            {i:"ğŸ¯", l:"è¯•ç‚¼å¥–åŠ±"}, {i:"ğŸ™", l:"èµç½ª/æ±‚é¥¶"}, {i:"ğŸ", l:"ç¤¼ç‰©/ç¥­å“"}, {i:"ğŸ«", l:"å…¥åœº/é€šè¡Œ"},
            {i:"ğŸ”‘", l:"æƒ…æŠ¥äº¤æ¢"}, {i:"ğŸš«", l:"æ— æœºåˆ¶"}
          ]
        },
        { key: "command", title: "8. å¥‘çº¦/å¼ºåˆ¶æŒ‡ä»¤", desc: "åŸºäºä¸»ä»/èƒè¿«çš„å‰§æƒ…å±•å¼€",
          options: [
            {i:"ğŸ“œ", l:"ä¸»ä»†å¥‘çº¦"}, {i:"ğŸ•", l:"å® ç‰©/å®¶ç•œ"}, {i:"ğŸ™‡", l:"ç»å¯¹æœä»"}, {i:"ğŸ–ï¸", l:"èº«ä½“è½¬è®©"},
            {i:"ğŸ™ˆ", l:"äº”æ„Ÿå‰¥å¤º"}, {i:"ğŸ«£", l:"ç¾è€»éœ²å‡º"}, {i:"ğŸ¤°", l:"ç¹æ®–/æ’­ç§"}, {i:"ğŸ¤", l:"ç¦è¨€/å£æ·"},
            {i:"â›“ï¸", l:"åˆ‘ç½š/æ‹·é—®"}, {i:"ğŸª‘", l:"å™¨ç‰©/å®¶å…·"}, {i:"ğŸš»", l:"å…¬ç”¨/å…±äº«"}, {i:"ğŸ’‰", l:"è¯ç‰©/æ”¹é€ "},
            {i:"â³", l:"æ—¶é—´/æ’æ³„"}, {i:"ğŸš«", l:"æ— æœºåˆ¶"}
          ]
        },
        { key: "hypno", title: "9. å‚¬çœ /ç²¾ç¥æ§åˆ¶", desc: "åŸºäºè®¤çŸ¥ä¿®æ”¹çš„å‰§æƒ…å±•å¼€",
          options: [
             {i:"ğŸ§ ", l:"å¸¸è¯†ç½®æ¢"}, {i:"â³", l:"æ—¶é—´åœæ­¢"}, {i:"ğŸ‘»", l:"è®¤çŸ¥é˜»ç¢"}, {i:"ğŸ­", l:"äººæ ¼è¦†å†™"},
             {i:"ğŸ’“", l:"å¿«æ„Ÿç™¾å€"}, {i:"ğŸ˜³", l:"ç¾è€»æ¶ˆé™¤"}, {i:"ğŸ§µ", l:"æçº¿æœ¨å¶"}, {i:"ğŸï¸", l:"è®°å¿†æ“ä½œ"},
             {i:"ğŸ””", l:"å…³é”®è¯è§¦å‘"}, {i:"ğŸ„", l:"å¹»è§‰/é”™ä¹±"}, {i:"ğŸ’¤", l:"ç¡çœ /ææƒš"}, {i:"ğŸ‘¥", l:"è®¤çŸ¥æ··æ·†"},
             {i:"ğŸ”„", l:"èº«å¿ƒäº’æ¢"}, {i:"ğŸš«", l:"æ— æœºåˆ¶"}
          ]
        },
        { key: "clothing", title: "10. {{ä¼˜}} çš„è¡£ç€", desc: "è§†è§‰å¤–è§‚è®¾å®š",
          options: [
            {i:"ğŸ‘š", l:"ä¾¿æœ/ç§æœ"}, {i:"ğŸ‘™", l:"æš´éœ²/æ€§æ„Ÿ"}, {i:"ğŸ‘—", l:"åº„é‡/ç¤¼æœ"}, {i:"ğŸ‘”", l:"åˆ¶æœ/å·¥ä½œ"},
            {i:"ğŸ§¸", l:"çœŸç©º/æ— å†…è¡£"}, {i:"ğŸˆ", l:"æ—¥å¸¸è£…æŸ"}, {i:"â›“ï¸", l:"ä½©æˆ´æ‹˜æŸ"}, {i:"ğŸ©¹", l:"ç ´æŸ/æˆ˜æŸ"},
            {i:"ğŸ§–â€â™€ï¸", l:"æµ´è¢/è£¹å·¾"}, {i:"ğŸ‘•", l:"ä¼´ä¾£è¡£ç‰©"}, {i:"ğŸ’", l:"å­¦å¾’/å­¦ç”Ÿ"}, {i:"ğŸ­", l:"Cosplay"},
            {i:"ğŸ¥", l:"ç—…å·/ç»·å¸¦"}, {i:"âŒ", l:"æ— è¡£ç‰©/å…¨è£¸"}
          ]
        }
      ];

      const sliderDefs = {
        dev: ["èƒ¸", "ä¹³å¤´", "è„š", "å£è…”", "é˜´è’‚", "é˜´é“", "å±çœ¼", "å­å®«", "å¿ƒç†"],
        lust: ["æ£’æ¬²", "å£æ¬²", "ä¹³æ¬²", "ç©´æ¬²", "å°»æ¬²"]
      };

      // çŠ¶æ€å˜é‡
      let currentPage = 0;
      const totalPages = pagesConfig.length + 1; // 10 pages + 1 settings page
      const selections = {};
      pagesConfig.forEach(p => selections[p.key] = "");

      // === 2. æ¸²æŸ“å¼•æ“ ===
      function initRender() {
        const container = document.getElementById("pages-container");
        const infoGrid = document.getElementById("info-grid");
        
        // ç”Ÿæˆå‰10é¡µ
        pagesConfig.forEach((cfg, idx) => {
          // ç”Ÿæˆé¡µé¢ HTML
          const pageDiv = document.createElement("div");
          pageDiv.className = idx === 0 ? "page active" : "page";
          pageDiv.id = `page${idx}`;
          
          let gridHtml = "";
          // æ¸²æŸ“ 13 + 1 ä¸ªé¢„è®¾é€‰é¡¹
          cfg.options.forEach(opt => {
            gridHtml += `
              <div class="option-card" onclick="selectOption('${cfg.key}', '${opt.l}', this)">
                <div class="icon">${opt.i}</div>
                <div class="label">${opt.l}</div>
              </div>
            `;
          });
          // æ¸²æŸ“ç¬¬ 15 ä¸ªè‡ªå®šä¹‰é€‰é¡¹ (å…³é”®ä¿®å¤ï¼šinputäº‹ä»¶ç›´æ¥è§¦å‘é€»è¾‘)
          gridHtml += `
            <div class="option-card" onclick="focusCustom(this)">
              <div class="icon">âœï¸</div>
              <div class="label">è‡ªå®šä¹‰</div>
              <input type="text" class="custom-input" placeholder="..." 
                oninput="handleCustomInput(this, '${cfg.key}', ${idx})"
                onfocus="selectCustomCard(this)"
              >
            </div>
          `;

          pageDiv.innerHTML = `
            <div class="page-title">${cfg.title}</div>
            <div class="page-desc">${cfg.desc}</div>
            <div class="options-grid" id="grid_${cfg.key}">${gridHtml}</div>
            <div class="nav-buttons">
              ${idx > 0 ? `<button class="btn btn-prev" onclick="prevPage()">è¿”å›</button>` : ''}
              <button class="btn btn-next" id="nextBtn${idx}" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
              ${idx === 0 ? '' : ''} 
            </div>
          `;
          container.appendChild(pageDiv);

          // ç”Ÿæˆåº•éƒ¨ä¿¡æ¯æ 
          const infoItem = document.createElement("div");
          infoItem.className = "info-item";
          infoItem.innerHTML = `<span class="info-label">${idx+1}.${cfg.title.split(' ')[1]||'æ–‡é£'}</span><span class="info-value" id="info_${cfg.key}">-</span>`;
          infoGrid.appendChild(infoItem);
        });

        // æ¸²æŸ“æ»‘å—
        renderSliderGroup("sliders-dev", sliderDefs.dev, "dev");
        renderSliderGroup("sliders-lust", sliderDefs.lust, "lust");
      }

      function renderSliderGroup(containerId, labels, prefix) {
        const c = document.getElementById(containerId);
        let html = "";
        labels.forEach((lbl, idx) => {
          const id = `slider_${prefix}_${idx}`;
          html += `
            <div class="slider-row">
              <span class="slider-label">${lbl}</span>
              <div class="slider-container">
                <input type="range" id="${id}" min="0" max="100" value="0" oninput="updateVal(this)">
              </div>
              <span class="slider-val" id="val_${id}">0%</span>
            </div>
          `;
        });
        c.innerHTML = html;
      }

      // === 3. é€»è¾‘æ§åˆ¶ ===
      
      // æ™®é€šé€‰é¡¹ç‚¹å‡»
      function selectOption(key, val, el) {
        // UIæ¸…ç†
        const grid = el.parentElement;
        grid.querySelectorAll(".option-card").forEach(c => {
          c.classList.remove("selected");
          // æ¸…ç©ºåŒç»„çš„è‡ªå®šä¹‰è¾“å…¥æ¡†
          const input = c.querySelector('input');
          if(input) input.value = '';
        });
        
        el.classList.add("selected");
        selections[key] = val;
        updateInfo();
        
        // æ¿€æ´»ä¸‹ä¸€æ­¥æŒ‰é’®
        const pageIdx = pagesConfig.findIndex(p => p.key === key);
        const btn = document.getElementById(`nextBtn${pageIdx}`);
        if(btn) btn.disabled = false;
      }

      // è‡ªå®šä¹‰å¡ç‰‡ç‚¹å‡» (èšç„¦è¾“å…¥æ¡†)
      function focusCustom(card) {
        const input = card.querySelector('input');
        if(input) input.focus();
      }

      // è¾“å…¥æ¡†èšç„¦ (UIé€‰ä¸­)
      function selectCustomCard(input) {
        const card = input.parentElement;
        const grid = card.parentElement;
        grid.querySelectorAll(".option-card").forEach(c => c.classList.remove("selected"));
        card.classList.add("selected");
      }

      // è‡ªå®šä¹‰è¾“å…¥å¤„ç† (å…³é”®é€»è¾‘)
      function handleCustomInput(input, key, pageIdx) {
        selections[key] = input.value;
        updateInfo();
        
        const btn = document.getElementById(`nextBtn${pageIdx}`);
        if(btn) {
          // å¦‚æœæœ‰å†…å®¹åˆ™å¯ç”¨æŒ‰é’®ï¼Œå¦åˆ™ç¦ç”¨
          btn.disabled = input.value.trim() === "";
        }
      }

      function updateVal(input) {
        const display = document.getElementById("val_" + input.id);
        display.innerText = input.value + "%";
        const intensity = input.value / 100;
        input.style.filter = `sepia(${1-intensity}) hue-rotate(-50deg)`;
      }

      function updateInfo() {
        Object.keys(selections).forEach(k => {
          const el = document.getElementById("info_" + k);
          // ç®€çŸ­æ˜¾ç¤º
          let val = selections[k] || "-";
          if(val.length > 5) val = val.substring(0,4) + "..";
          if(el) el.textContent = val;
        });
      }

      // ç¿»é¡µé€»è¾‘
      function showPage(idx) {
        document.querySelectorAll(".page").forEach(p => p.classList.remove("active"));
        const target = document.getElementById("page" + idx);
        if(target) target.classList.add("active");
        currentPage = idx;
        const progress = (currentPage / (totalPages - 1)) * 100;
        document.getElementById("progressBar").style.width = progress + "%";
        window.scrollTo(0, 0);
      }
      function nextPage() { if(currentPage < totalPages - 1) showPage(currentPage + 1); }
      function prevPage() { if(currentPage > 0) showPage(currentPage - 1); }

      // éšæœºé€»è¾‘
      function randomSelection() {
        pagesConfig.forEach((cfg, idx) => {
           // éšæœºåªé€‰å‰14ä¸ªé¢„è®¾ï¼Œä¸éšæœºè‡ªå®šä¹‰
           const rand = cfg.options[Math.floor(Math.random() * cfg.options.length)];
           selections[cfg.key] = rand.l;
           
           // UI Sync
           const grid = document.getElementById("grid_" + cfg.key);
           if(grid) {
             grid.querySelectorAll(".option-card").forEach(c => c.classList.remove("selected"));
             // ç®€å•çš„è§†è§‰åé¦ˆï¼Œä¸å¼ºæ±‚é«˜äº®ç‰¹å®šå¡ç‰‡ï¼Œé‡ç‚¹æ˜¯æ•°æ®æ›´æ–°
           }
        });
        updateInfo();
        showPage(10); // è·³åˆ°æ•°å€¼é¡µ
      }

      // æäº¤é€»è¾‘
      function submitSelection() {
        showInfoModal(function() {
          const s = selections;
          
          let devStr = "";
          sliderDefs.dev.forEach((lbl, i) => {
            const val = document.getElementById(`slider_dev_${i}`).value;
            if(val > 0) devStr += `${lbl}:${val}% `;
          });

          let lustStr = "";
          sliderDefs.lust.forEach((lbl, i) => {
            const val = document.getElementById(`slider_lust_${i}`).value;
            if(val > 0) lustStr += `${lbl}:${val}% `;
          });

          const corruption = document.getElementById("slider_corruption").value;
          const cuckold = document.getElementById("slider_cuckold").value;
          const share = document.getElementById("slider_share").value;

          let mechanics = "";
          if(s.trade && !s.trade.includes("æ— æœºåˆ¶")) mechanics += `[äº¤æ˜“: ${s.trade}] `;
          if(s.command && !s.command.includes("æ— æœºåˆ¶")) mechanics += `[å¼ºåˆ¶: ${s.command}] `;
          if(s.hypno && !s.hypno.includes("æ— æœºåˆ¶")) mechanics += `[å‚¬çœ : ${s.hypno}] `;
          if(!mechanics) mechanics = "æ— ç‰¹æ®Šæœºåˆ¶";

          const message = `ã€å‰§æƒ…ç”ŸæˆæŒ‡ä»¤ã€‘
1. æ–‡é£ï¼š${s.style}
2. è§†è§’ï¼š${s.pov}
3. å½“å‰åè®®/å…±è¯†/äº¤æ˜“/å¥‘çº¦/æŒ‡ä»¤/å‚¬çœ ï¼šä¸ {{NPC}} è¾¾æˆçš„ ${mechanics}
4. åœ°ç‚¹ï¼š${s.location}

ã€è§’è‰²çŠ¶æ€ã€‘
- {{ä¼˜}}ï¼š${s.youStatus} (ç©¿ç€: ${s.clothing})
- {{ç§€}}ï¼š${s.xiuStatus}
- {{NPC}}ï¼š${s.npcStatus}

ã€æ•°å€¼è®¾å®šã€‘
{{ä¼˜}}Â·å¼€å‘éƒ¨ä½: ${devStr || "æ— "}
{{ä¼˜}}Â·æ€§æ¬²: ${lustStr || "æ— "}
{{ä¼˜}}Â·å •è½: [å •è½å€¼:${corruption}%] [å •è½é˜¶æ®µ:{{plot}}]
{{ç§€}}Â·: [ç»¿å¸½å€¼:${cuckold}%] [æ·«å¦»æ¬²:${share}%]

ã€æ‰§è¡Œè¦æ±‚ã€‘
è¯·ä»¥ ${s.pov} è§†è§’å±•å¼€æå†™ã€‚
åœºæ™¯ä½äº ${s.location}ã€‚é‡ç‚¹æå†™ {{ä¼˜}} åœ¨å—åˆ°ã€${mechanics}ã€‘å½±å“ä¸‹ï¼Œä½“ç° ${corruption}% å •è½å€¼å¸¦æ¥çš„å¿ƒç†å˜åŒ–ï¼Œä»¥åŠ ${s.clothing} çš„è§†è§‰ç»†èŠ‚ã€‚`;

          const command = `/send ${message} | /trigger`;
            
          if(typeof triggerSlash === "function") {
            triggerSlash(command);
          } else {
            navigator.clipboard.writeText(message);
            alert("æŒ‡ä»¤å·²å¤åˆ¶åˆ°å‰ªè´´æ¿");
          }
        });
      }

      function showInfoModal(cb) {
        document.getElementById("confirmModal").classList.add("active");
        window.confirmCallback = cb;
      }
      function closeInfoModal() {
        document.getElementById("confirmModal").classList.remove("active");
        if(window.confirmCallback) { window.confirmCallback(); window.confirmCallback = null; }
      }
      function toggleTheme() {
        const body = document.body;
        if (body.getAttribute("data-theme") === "light") {
          body.removeAttribute("data-theme");
        } else {
          body.setAttribute("data-theme", "light");
        }
      }

      // è‡ªå®šä¹‰è¾“å…¥æ¡†å›è½¦
      document.addEventListener('keydown', function(e) {
         if(e.target.classList.contains('custom-input') && e.key === 'Enter') {
           if(e.target.value.trim() !== "") nextPage();
         }
      });

      initRender();
      updateInfo();
    </script>
  </body>
</html>