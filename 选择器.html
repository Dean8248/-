<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>AVä¼åˆ’ç”Ÿæˆå™¨ - å‰§æœ¬å®šåˆ¶</title>
    <link
      rel="stylesheet"
      href="https://fontsapi.zeoseven.com/292/main/result.css"
    />
  </head>

  <body>
    <style>
      /* ä¿æŒåŸæœ‰æ ·å¼ä¸å˜ï¼Œä»…å¾®è°ƒé¢œè‰²é€‚é…AVä¸»é¢˜ */
      :root {
        --dark-red: #8a2be2; /* ç´«è‰²è°ƒï¼Œæ›´ç¬¦åˆAV/ä¼åˆ’æ°›å›´ */
        --blood-red: #9932cc;
        --light-red: #da70d6;
        --dark-gray: #1a1a1a;
        --gray: #2a2a2a;
        --light-gray: #3a3a3a;
        --text-main: #e0e0e0;
        --text-dim: #999;
        --text-dimmer: #666;
        --gold: #ff69b4; /* ç²‰è‰²é«˜äº® */
        --silver: #c0c0c0;
        --border: rgba(153, 50, 204, 0.2);
        --hover-bg: rgba(153, 50, 204, 0.08);
      }

      [data-theme="light"] {
        --dark-red: #8a2be2;
        --blood-red: #9932cc;
        --light-red: #da70d6;
        --dark-gray: #f5f5f5;
        --gray: #ececec;
        --light-gray: #e0e0e0;
        --text-main: #2a2a2a;
        --text-dim: #666;
        --text-dimmer: #999;
        --gold: #d97706;
        --silver: #6b7280;
        --border: rgba(153, 50, 204, 0.15);
        --hover-bg: rgba(153, 50, 204, 0.05);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Noto Sans SC", -apple-system, BlinkMacSystemFont,
          "Segoe UI", sans-serif;
        color: var(--text-main);
        line-height: 1.6;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
      }

      .container {
        width: 100%;
        max-width: 820px;
        margin: 0 auto;
        background: var(--dark-gray);
        font-size: 14px;
        position: relative;
      }

      .header {
        background: var(--blood-red);
        padding: 10px 16px;
        position: sticky;
        top: 0;
        z-index: 100;
        border-bottom: 1px solid var(--border);
      }

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 12px;
      }

      .header h1 {
        font-size: 1em;
        font-weight: 600;
        color: #fff;
        flex: 1;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }

      .theme-toggle {
        background: rgba(255, 255, 255, 0.2);
        border: none;
        color: #fff;
        padding: 6px 12px;
        border-radius: 4px;
        cursor: pointer;
        transition: background 0.2s;
        font-size: 0.85em;
        font-weight: 500;
        outline: none;
      }

      .content {
        padding: 16px;
      }

      .page {
        display: none;
        animation: fadeIn 0.5s ease-out;
      }

      .page.active {
        display: block;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(15px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .page-title {
        font-size: 1.05em;
        font-weight: 600;
        color: var(--blood-red);
        margin-bottom: 12px;
        text-align: center;
      }

      .page-desc {
        color: var(--text-dim);
        text-align: center;
        margin-bottom: 20px;
        line-height: 1.5;
        font-size: 0.9em;
      }

      .options-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(110px, 1fr));
        gap: 12px;
        margin-bottom: 20px;
      }

      .option-card {
        background: var(--light-gray);
        border: 2px solid transparent;
        border-radius: 8px;
        padding: 15px;
        text-align: center;
        cursor: pointer;
        transition: all 0.3s ease-out;
        position: relative;
      }

      .option-card:hover {
        border-color: var(--blood-red);
        transform: translateY(-3px);
        box-shadow: 0 4px 15px var(--hover-bg);
      }

      .option-card.selected {
        background: linear-gradient(135deg, var(--blood-red), var(--dark-red));
        border-color: var(--gold);
        box-shadow: 0 0 20px rgba(153, 50, 204, 0.5);
      }

      .option-card .icon {
        font-size: 2em;
        margin-bottom: 8px;
      }

      .option-card .label {
        font-size: 0.9em;
        font-weight: 500;
        color: var(--text-main);
      }

      .option-card.selected .label {
        color: #fff;
      }

      .option-card .desc {
        font-size: 0.75em;
        color: var(--text-dim);
        margin-top: 6px;
        line-height: 1.3;
      }

      .option-card.selected .desc {
        color: rgba(255, 255, 255, 0.8);
      }

      .custom-input {
        width: 100%;
        background: var(--dark-gray);
        border: 1px solid var(--border);
        border-radius: 6px;
        padding: 10px;
        color: var(--text-main);
        font-size: 0.9em;
        margin-top: 8px;
      }

      .custom-input:focus {
        outline: none;
        border-color: var(--blood-red);
      }

      .progress-bar {
        width: 100%;
        height: 5px;
        background: var(--light-gray);
        border-radius: 3px;
        margin-bottom: 20px;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        background: linear-gradient(90deg, var(--blood-red), var(--light-red));
        transition: width 0.5s ease-out;
      }

      .nav-buttons {
        display: flex;
        gap: 12px;
        justify-content: center;
        padding: 12px 0;
      }

      .nav-buttons-stacked {
        display: flex;
        flex-direction: column;
        gap: 12px;
        align-items: center;
        padding: 12px 0;
      }

      .nav-buttons-row {
        display: flex;
        gap: 12px;
        justify-content: center;
      }

      .btn {
        padding: 10px 25px;
        border: none;
        border-radius: 20px;
        font-size: 0.9em;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.3s ease-out;
      }

      .btn-prev {
        background: var(--light-gray);
        color: var(--text-main);
      }

      .btn-prev:hover {
        background: var(--hover-bg);
      }

      .btn-next {
        background: linear-gradient(135deg, var(--blood-red), var(--dark-red));
        color: #fff;
      }

      .btn-submit {
        background: linear-gradient(135deg, var(--gold), #ff1493);
        color: #000;
        font-weight: 600;
      }

      .btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }

      .summary-section {
        background: var(--light-gray);
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 20px;
      }

      .summary-item {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid var(--border);
        font-size: 0.9em;
      }

      .summary-item:last-child {
        border-bottom: none;
      }

      .summary-value {
        color: var(--gold);
        font-weight: 500;
      }

      .bottom-info {
        background: var(--gray);
        border-top: 1px solid var(--border);
        padding: 12px 16px;
        font-size: 0.8em;
      }

      .info-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 8px;
      }

      .info-item {
        display: flex;
        justify-content: space-between;
        padding: 5px 0;
      }

      .info-label {
        color: var(--text-dim);
      }

      .info-value {
        color: var(--gold);
        font-weight: 500;
      }

      @media (max-width: 768px) {
        .options-grid {
          grid-template-columns: 1fr;
        }
        .info-grid {
          grid-template-columns: 1fr;
        }
      }

      .modal-overlay {
        display: none;
        position: absolute;
        top: 0; left: 0; right: 0; bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        z-index: 1000;
        align-items: center;
        justify-content: center;
        padding: 20px;
      }

      .modal-overlay.active {
        display: flex;
      }

      .modal-content {
        background: var(--dark-gray);
        border: 2px solid var(--blood-red);
        border-radius: 12px;
        padding: 24px;
        max-width: 400px;
        width: 100%;
        text-align: center;
      }
      
      .modal-buttons {
         margin-top: 15px;
         display: flex;
         gap: 10px;
         justify-content: center;
      }
      
      .modal-btn {
          padding: 8px 16px;
          border-radius: 6px;
          border: none;
          cursor: pointer;
      }
      .modal-btn-confirm { background: var(--blood-red); color: white; }
    </style>

    <div class="container">
      <div class="modal-overlay" id="confirmModal">
        <div class="modal-content">
          <div class="modal-title">ç³»ç»Ÿæç¤º</div>
          <div class="modal-message"></div>
          <div class="modal-buttons"></div>
        </div>
      </div>

      <div class="header">
        <div class="header-content">
          <h1>AVä¼åˆ’ç”Ÿæˆå™¨ - å‰§æœ¬å®šåˆ¶</h1>
          <button class="theme-toggle" onclick="toggleTheme()">
            <span id="theme-icon">ğŸŒ™</span>
          </button>
        </div>
      </div>

      <div class="content">
        <div class="progress-bar">
          <div class="progress-fill" id="progressBar"></div>
        </div>

        <div class="page active" id="page0">
          <div class="page-title">AV ä¼åˆ’åˆ¶ä½œä¸­å¿ƒ</div>
          <div class="page-desc">
            æ¬¢è¿åˆ¶ä½œäºº<br />
            è¯·å®šåˆ¶æœ¬æ¬¡æ‹æ‘„çš„æ¼”å‘˜äººè®¾ä¸å‰§æœ¬å¤§çº²<br />
            <span style="color: var(--gold); font-weight: 500"
              >æœ¬å·¥å…·å°†ç”Ÿæˆä¸€æ®µè¯¦ç»†çš„æ‹æ‘„ä¼åˆ’Prompt</span
            >
          </div>

          <div class="nav-buttons-stacked">
            <div class="nav-buttons-row">
              <button class="btn btn-next" onclick="nextPage()">
                å¼€å§‹å®šåˆ¶
              </button>
              <button class="btn btn-submit" onclick="randomSelection()">
                ä¸€é”®éšæœº
              </button>
            </div>
          </div>
        </div>

        <div class="page" id="page1">
          <div class="page-title">å…³ç³»ç±»å‹</div>
          <div class="page-desc">æ¼”å‘˜ä¹‹é—´çš„è®¾å®šå…³ç³»</div>
          <div class="options-grid">
            <div class="option-card" onclick="selectOption('relationshipType', 'æƒ…ä¾£', this)">
              <div class="icon">ğŸ’‘</div>
              <div class="label">æƒ…ä¾£</div>
              <div class="desc">çƒ­æ‹ä¸­çš„å¹´è½»ç”·å¥³</div>
            </div>
            <div class="option-card" onclick="selectOption('relationshipType', 'å¤«å¦»', this)">
              <div class="icon">ğŸ’</div>
              <div class="label">å¤«å¦»</div>
              <div class="desc">å·²å©šå¤šå¹´çš„ä¼´ä¾£</div>
            </div>
            <div class="option-card" onclick="selectOption('relationshipType', 'æš§æ˜§', this)">
              <div class="icon">ğŸ˜</div>
              <div class="label">æš§æ˜§</div>
              <div class="desc">å‹è¾¾ä»¥ä¸Šæ‹äººæœªæ»¡</div>
            </div>
            <div class="option-card" onclick="selectOption('relationshipType', 'æ¯å­', this)">
              <div class="icon">ğŸ‘©â€ğŸ‘¦</div>
              <div class="label">æ¯å­</div>
              <div class="desc">èƒŒå¾·ç¦å¿Œçš„äº²æƒ…è¶Šç•Œ</div>
            </div>
            <div class="option-card" onclick="selectOption('relationshipType', 'å§å¼Ÿ', this)">
              <div class="icon">ğŸ‘«</div>
              <div class="label">å§å¼Ÿ</div>
              <div class="desc">å¹´ä¸Šå§å§ä¸å¹´ä¸‹å¼Ÿå¼Ÿ</div>
            </div>
            <div class="option-card" onclick="selectOption('relationshipType', 'å…„å¦¹', this)">
              <div class="icon">ğŸ‘§</div>
              <div class="label">å…„å¦¹</div>
              <div class="desc">å“¥å“¥ä¸å¯çˆ±çš„å¦¹å¦¹</div>
            </div>
            <div class="option-card" onclick="selectOption('relationshipType', 'çˆ¶å¥³', this)">
              <div class="icon">ğŸ‘¨â€ğŸ‘§</div>
              <div class="label">çˆ¶å¥³</div>
              <div class="desc">çˆ¶äº²ä¸å¥³å„¿çš„ç§˜å¯†</div>
            </div>
          </div>
          <div class="nav-buttons" id="navButtons1">
            <button class="btn btn-prev" onclick="prevPage()">ä¸Šä¸€æ­¥</button>
            <button class="btn btn-next" id="nextBtn1" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
          </div>
        </div>

        <div class="page" id="page2">
          <div class="page-title">å¥³ä¼˜èº«æ</div>
          <div class="page-desc">é€‰æ‹©å¥³ä¸»è§’çš„èº«æç±»å‹</div>
          <div class="options-grid">
            <div class="option-card" onclick="selectOption('body', 'ä¸°æ»¡å¾¡å§', this)">
              <div class="icon">ğŸ’ƒ</div><div class="label">ä¸°æ»¡å¾¡å§</div><div class="desc">è‚‰æ„Ÿèº«æ,å‰å‡¸åç¿˜</div>
            </div>
            <div class="option-card" onclick="selectOption('body', 'çº¤ç»†å°‘å¦‡', this)">
              <div class="icon">ğŸŒ¸</div><div class="label">çº¤ç»†å°‘å¦‡</div><div class="desc">è‹—æ¡ç²ç‘,ç´§è‡´æ¸…çº¯</div>
            </div>
            <div class="option-card" onclick="selectOption('body', 'å¾®èƒ–äººå¦»', this)">
              <div class="icon">ğŸ‘</div><div class="label">å¾®èƒ–äººå¦»</div><div class="desc">è‚‰æ„Ÿåè¶³,è½¯ç»µä¸°è…´</div>
            </div>
            <div class="option-card" onclick="selectOption('body', 'å¥ç¾è¾£å¦ˆ', this)">
              <div class="icon">ğŸ’ª</div><div class="label">å¥ç¾è¾£å¦ˆ</div><div class="desc">ç´§è‡´æœ‰åŠ›,çº¿æ¡æ˜æ˜¾</div>
            </div>
            <div class="option-card" onclick="selectOption('body', 'å¨‡å°ç²ç‘', this)">
              <div class="icon">ğŸ€</div><div class="label">å¨‡å°ç²ç‘</div><div class="desc">å°å·§ç²¾è‡´,æ¥šæ¥šåŠ¨äºº</div>
            </div>
            <div class="option-card" onclick="selectCustomOption('body', this)">
              <div class="icon">âœï¸</div><div class="label">è‡ªå®šä¹‰</div>
              <input type="text" class="custom-input" placeholder="è¾“å…¥èº«æ" onclick="event.stopPropagation()" data-category="body"/>
            </div>
          </div>
          <div class="nav-buttons" id="navButtons2">
            <button class="btn btn-prev" onclick="prevPage()">ä¸Šä¸€æ­¥</button>
            <button class="btn btn-next" id="nextBtn2" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
          </div>
        </div>

        <div class="page" id="page3">
          <div class="page-title">æ€§æ ¼ç‰¹è´¨</div>
          <div class="page-desc">å¥¹åœ¨é•œå¤´å‰çš„æ€§æ ¼</div>
          <div class="options-grid">
            <div class="option-card" onclick="selectOption('personality', 'æ¸©æŸ”è´¤æƒ ', this)">
              <div class="icon">ğŸ˜Š</div><div class="label">æ¸©æŸ”è´¤æƒ </div><div class="desc">ä½“è´´é¡ºä»</div>
            </div>
            <div class="option-card" onclick="selectOption('personality', 'é«˜å†·å‚²å¨‡', this)">
              <div class="icon">ğŸ˜</div><div class="label">é«˜å†·å‚²å¨‡</div><div class="desc">è¡¨é¢çŸœæŒ</div>
            </div>
            <div class="option-card" onclick="selectOption('personality', 'é£éªšæµªè¡', this)">
              <div class="icon">ğŸ˜ˆ</div><div class="label">é£éªšæµªè¡</div><div class="desc">ä¸»åŠ¨çƒ­æƒ…</div>
            </div>
            <div class="option-card" onclick="selectOption('personality', 'æ¸…çº¯ä¿å®ˆ', this)">
              <div class="icon">ğŸ˜³</div><div class="label">æ¸…çº¯ä¿å®ˆ</div><div class="desc">å®¹æ˜“å®³ç¾</div>
            </div>
             <div class="option-card" onclick="selectCustomOption('personality', this)">
              <div class="icon">âœï¸</div><div class="label">è‡ªå®šä¹‰</div>
              <input type="text" class="custom-input" placeholder="è¾“å…¥æ€§æ ¼" onclick="event.stopPropagation()" data-category="personality"/>
            </div>
          </div>
          <div class="nav-buttons" id="navButtons3">
            <button class="btn btn-prev" onclick="prevPage()">ä¸Šä¸€æ­¥</button>
            <button class="btn btn-next" id="nextBtn3" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
          </div>
        </div>

        <div class="page" id="page4">
          <div class="page-title">å¹´é¾„è®¾å®š</div>
          <div class="page-desc">è§’è‰²å¹´é¾„æ®µ</div>
          <div class="options-grid">
            <div class="option-card" onclick="selectOption('age', '20-25å²', this)"><div class="icon">ğŸŒ·</div><div class="label">20-25å²</div></div>
            <div class="option-card" onclick="selectOption('age', '25-30å²', this)"><div class="icon">ğŸŒ¹</div><div class="label">25-30å²</div></div>
            <div class="option-card" onclick="selectOption('age', '30-35å²', this)"><div class="icon">ğŸ’‹</div><div class="label">30-35å²</div></div>
            <div class="option-card" onclick="selectOption('age', '35-40å²', this)"><div class="icon">ğŸ·</div><div class="label">35-40å²</div></div>
            <div class="option-card" onclick="selectOption('age', '40å²ä»¥ä¸Š', this)"><div class="icon">ğŸ’</div><div class="label">40å²ä»¥ä¸Š</div></div>
          </div>
          <div class="nav-buttons" id="navButtons4">
            <button class="btn btn-prev" onclick="prevPage()">ä¸Šä¸€æ­¥</button>
            <button class="btn btn-next" id="nextBtn4" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
          </div>
        </div>

        <div class="page" id="page5">
          <div class="page-title">å½“å‰æƒ…æ„ŸçŠ¶æ€</div>
          <div class="page-desc">ä¸¤äººç›®å‰çš„å…³ç³»æ°›å›´</div>
          <div class="options-grid">
            <div class="option-card" onclick="selectOption('currentRelation', 'æ©çˆ±', this)">
              <div class="icon">ğŸ¥°</div>
              <div class="label">æ©çˆ±</div>
              <div class="desc">å¦‚èƒ¶ä¼¼æ¼†ï¼Œé…åˆåº¦æé«˜</div>
            </div>
            <div class="option-card" onclick="selectOption('currentRelation', 'å’Œè°', this)">
              <div class="icon">ğŸ¤</div>
              <div class="label">å’Œè°</div>
              <div class="desc">å¹³æ·¡æ¸©é¦¨ï¼Œè€å¤«è€å¦»</div>
            </div>
            <div class="option-card" onclick="selectOption('currentRelation', 'ç´§å¼ ', this)">
              <div class="icon">ğŸ˜°</div>
              <div class="label">ç´§å¼ </div>
              <div class="desc">æœ‰éš”é˜‚ï¼Œæ°”æ°›å°´å°¬å‹æŠ‘</div>
            </div>
            <div class="option-card" onclick="selectOption('currentRelation', 'åµæ¶', this)">
              <div class="icon">ğŸ’¢</div>
              <div class="label">åµæ¶</div>
              <div class="desc">åˆšåµå®Œæ¶ï¼Œå¸¦æœ‰æƒ…ç»ªçš„æ€§çˆ±</div>
            </div>
            <div class="option-card" onclick="selectOption('currentRelation', 'ç–è¿œ', this)">
              <div class="icon">â„ï¸</div>
              <div class="label">ç–è¿œ</div>
              <div class="desc">å¾ˆä¹…æ²¡åšï¼Œç”Ÿç–ä¸”æœ‰è·ç¦»æ„Ÿ</div>
            </div>
            <div class="option-card" onclick="selectCustomOption('currentRelation', this)">
              <div class="icon">âœï¸</div><div class="label">è‡ªå®šä¹‰</div>
              <input type="text" class="custom-input" placeholder="è¾“å…¥çŠ¶æ€" onclick="event.stopPropagation()" data-category="currentRelation"/>
            </div>
          </div>
          <div class="nav-buttons" id="navButtons5">
            <button class="btn btn-prev" onclick="prevPage()">ä¸Šä¸€æ­¥</button>
            <button class="btn btn-next" id="nextBtn5" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
          </div>
        </div>

        <div class="page" id="page6">
          <div class="page-title">èŒä¸šèº«ä»½</div>
          <div class="page-desc">å¥¹çš„ç¤¾ä¼šè§’è‰²</div>
          <div class="options-grid">
             <div class="option-card" onclick="selectOption('career', 'ç™½é¢†OL', this)"><div class="icon">ğŸ‘”</div><div class="label">ç™½é¢†OL</div></div>
             <div class="option-card" onclick="selectOption('career', 'å®¶åº­ä¸»å¦‡', this)"><div class="icon">ğŸ¡</div><div class="label">å®¶åº­ä¸»å¦‡</div></div>
             <div class="option-card" onclick="selectOption('career', 'æ•™å¸ˆ', this)"><div class="icon">ğŸ“–</div><div class="label">æ•™å¸ˆ</div></div>
             <div class="option-card" onclick="selectOption('career', 'æŠ¤å£«', this)"><div class="icon">ğŸ’‰</div><div class="label">æŠ¤å£«</div></div>
             <div class="option-card" onclick="selectOption('career', 'å­¦ç”Ÿ', this)"><div class="icon">ğŸ“</div><div class="label">å­¦ç”Ÿ</div></div>
             <div class="option-card" onclick="selectCustomOption('career', this)">
              <div class="icon">âœï¸</div><div class="label">è‡ªå®šä¹‰</div>
              <input type="text" class="custom-input" placeholder="è¾“å…¥èŒä¸š" onclick="event.stopPropagation()" data-category="career"/>
            </div>
          </div>
          <div class="nav-buttons" id="navButtons6">
            <button class="btn btn-prev" onclick="prevPage()">ä¸Šä¸€æ­¥</button>
            <button class="btn btn-next" id="nextBtn6" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
          </div>
        </div>

        <div class="page" id="page7">
          <div class="page-title">ç”Ÿæ´»çŠ¶æ€</div>
          <div class="page-desc">ä¸ºä½•æ¥å—æ‹æ‘„/åšè¿™ä»¶äº‹</div>
          <div class="options-grid" id="lifeStatusOptionsGrid">
            </div>
          <div class="nav-buttons" id="navButtons7">
            <button class="btn btn-prev" onclick="prevPage()">ä¸Šä¸€æ­¥</button>
            <button class="btn btn-next" id="nextBtn7" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
          </div>
        </div>

        <div class="page" id="page8">
          <div class="page-title">è¿‡å¾€ç»å†</div>
          <div class="page-desc">å¥¹çš„æ€§ç»éªŒèƒŒæ™¯</div>
          <div class="options-grid">
            <div class="option-card" onclick="selectOption('pastExperience', 'æ¸…çº¯ç™½çº¸', this)"><div class="icon">ğŸ“„</div><div class="label">æ¸…çº¯ç™½çº¸</div></div>
            <div class="option-card" onclick="selectOption('pastExperience', 'ç»éªŒä¸°å¯Œ', this)"><div class="icon">ğŸ”¥</div><div class="label">ç»éªŒä¸°å¯Œ</div></div>
            <div class="option-card" onclick="selectOption('pastExperience', 'æ›¾ç»å‡ºè½¨', this)"><div class="icon">ğŸ’”</div><div class="label">æ›¾ç»å‡ºè½¨</div></div>
            <div class="option-card" onclick="selectOption('pastExperience', 'AVå‡ºé“', this)"><div class="icon">ğŸ“¹</div><div class="label">AVå‡ºé“</div></div>
          </div>
          <div class="nav-buttons" id="navButtons8">
            <button class="btn btn-prev" onclick="prevPage()">ä¸Šä¸€æ­¥</button>
            <button class="btn btn-next" id="nextBtn8" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
          </div>
        </div>

        <div class="page" id="page9">
          <div class="page-title">ç”·æ–¹è®¾å®š</div>
          <div class="page-desc">ç”·ä¼˜/ç”·ä¼´çš„è§’è‰²</div>
          <div class="options-grid" id="maleSettingOptionsGrid">
             </div>
          <div class="nav-buttons" id="navButtons9">
            <button class="btn btn-prev" onclick="prevPage()">ä¸Šä¸€æ­¥</button>
            <button class="btn btn-next" id="nextBtn9" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
          </div>
        </div>

        <div class="page" id="page10">
          <div class="page-title">å¥¹çš„æ€§ç™–</div>
          <div class="page-desc">åºŠä¸Šçš„ç‰¹æ®Šå–œå¥½</div>
          <div class="options-grid">
            <div class="option-card" onclick="selectOption('herKink', 'è¢«åŠ¨æ‰¿å—', this)"><div class="icon">ğŸ˜Œ</div><div class="label">è¢«åŠ¨æ‰¿å—</div></div>
            <div class="option-card" onclick="selectOption('herKink', 'ä¸»åŠ¨ç´¢å–', this)"><div class="icon">ğŸ˜ˆ</div><div class="label">ä¸»åŠ¨ç´¢å–</div></div>
            <div class="option-card" onclick="selectOption('herKink', 'Må±æ€§', this)"><div class="icon">â›“ï¸</div><div class="label">Må±æ€§</div></div>
            <div class="option-card" onclick="selectOption('herKink', 'Så±æ€§', this)"><div class="icon">ğŸ‘ </div><div class="label">Så±æ€§</div></div>
          </div>
          <div class="nav-buttons" id="navButtons10">
            <button class="btn btn-prev" onclick="prevPage()">ä¸Šä¸€æ­¥</button>
            <button class="btn btn-next" id="nextBtn10" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
          </div>
        </div>

        <div class="page" id="page11">
          <div class="page-title">AV ä¼åˆ’ç±»å‹</div>
          <div class="page-desc">æœ¬æ¬¡æ‹æ‘„çš„ä¸»é¢˜é£æ ¼</div>
          <div class="options-grid">
            <div class="option-card" onclick="selectOption('planningType', 'ç²¾æ²¹æŒ‰æ‘©', this)">
              <div class="icon">ğŸ’†</div>
              <div class="label">ç²¾æ²¹æŒ‰æ‘©</div>
              <div class="desc">æ¶¦æ»‘æ²¹å…¨èº«æ¨æ‹¿ï¼Œæ•æ„Ÿåº¦æµ‹è¯•</div>
            </div>

            <div class="option-card" onclick="selectOption('planningType', 'çºªå¿µç…§', this)">
              <div class="icon">ğŸ“¸</div>
              <div class="label">çºªå¿µç…§</div>
              <div class="desc">ä¸ºäº†ç•™å¿µè€Œæ‹æ‘„çš„ç§å¯†å½•åƒ</div>
            </div>

            <div class="option-card" onclick="selectOption('planningType', 'é­”é•œå·', this)">
              <div class="icon">ğŸš›</div>
              <div class="label">é­”é•œå·</div>
              <div class="desc">è¡—å¤´é€æ˜è½¦å¢ï¼Œè·¯äººè§†è§’ç¾è€»æ„Ÿ</div>
            </div>

            <div class="option-card" onclick="selectOption('planningType', 'æœ¨å¤´äºº', this)">
              <div class="icon">ğŸ›‘</div>
              <div class="label">æœ¨å¤´äºº</div>
              <div class="desc">æ—¶åœæ¸¸æˆï¼Œä¸å¯åŠ¨å¼¹è¢«éšæ„æ‘†å¼„</div>
            </div>

            <div class="option-card" onclick="selectOption('planningType', 'æ€§çˆ±é—®ç­”', this)">
              <div class="icon">ğŸ¤</div>
              <div class="label">æ€§çˆ±é—®ç­”</div>
              <div class="desc">ä¸€è¾¹åšçˆ±ä¸€è¾¹å›ç­”éšç§é—®é¢˜</div>
            </div>

            <div class="option-card" onclick="selectCustomOption('planningType', this)">
              <div class="icon">âœï¸</div>
              <div class="label">è‡ªå®šä¹‰</div>
              <input type="text" class="custom-input" placeholder="è¾“å…¥ä¼åˆ’" onclick="event.stopPropagation()" data-category="planningType"/>
            </div>
          </div>

          <div class="nav-buttons" id="navButtons11">
            <button class="btn btn-prev" onclick="prevPage()">ä¸Šä¸€æ­¥</button>
            <button class="btn btn-next" id="nextBtn11" onclick="nextPage()" disabled>ä¸‹ä¸€æ­¥</button>
          </div>
        </div>

        <div class="page" id="page12">
          <div class="page-title">ä¼åˆ’ç¡®è®¤ä¹¦</div>
          <div class="page-desc">è¯·æ ¸å¯¹å‰§æœ¬è®¾å®š</div>
          <div class="summary-section">
            <div class="summary-item"><span class="summary-label">å…³ç³»ç±»å‹</span><span class="summary-value" id="sum_relationshipType">-</span></div>
            <div class="summary-item"><span class="summary-label">èº«æ</span><span class="summary-value" id="sum_body">-</span></div>
            <div class="summary-item"><span class="summary-label">æ€§æ ¼</span><span class="summary-value" id="sum_personality">-</span></div>
            <div class="summary-item"><span class="summary-label">å¹´é¾„</span><span class="summary-value" id="sum_age">-</span></div>
            <div class="summary-item"><span class="summary-label">æƒ…æ„ŸçŠ¶æ€</span><span class="summary-value" id="sum_currentRelation">-</span></div>
            <div class="summary-item"><span class="summary-label">èŒä¸š</span><span class="summary-value" id="sum_career">-</span></div>
            <div class="summary-item"><span class="summary-label">ç”Ÿæ´»çŠ¶æ€</span><span class="summary-value" id="sum_lifeStatus">-</span></div>
            <div class="summary-item"><span class="summary-label">è¿‡å¾€ç»å†</span><span class="summary-value" id="sum_pastExperience">-</span></div>
            <div class="summary-item"><span class="summary-label">ç”·æ–¹è®¾å®š</span><span class="summary-value" id="sum_maleSetting">-</span></div>
            <div class="summary-item"><span class="summary-label">å¥¹çš„æ€§ç™–</span><span class="summary-value" id="sum_herKink">-</span></div>
            <div class="summary-item"><span class="summary-label">ä¼åˆ’ä¸»é¢˜</span><span class="summary-value" id="sum_planningType">-</span></div>
          </div>

          <div class="nav-buttons-stacked">
            <div class="nav-buttons-row">
              <button class="btn btn-prev" onclick="prevPage()">è¿”å›ä¿®æ”¹</button>
              <button class="btn btn-submit" onclick="submitSelection()">ç”Ÿæˆå‰§æœ¬</button>
            </div>
            <button class="btn btn-next" onclick="randomSelection()">é‡æ–°éšæœº</button>
          </div>
        </div>
      </div>
      
      <div class="bottom-info">
        <div class="info-grid">
           <div class="info-item"><span class="info-label">å…³ç³»</span><span class="info-value" id="inf_relationshipType">-</span></div>
           <div class="info-item"><span class="info-label">çŠ¶æ€</span><span class="info-value" id="inf_currentRelation">-</span></div>
           <div class="info-item"><span class="info-label">ä¼åˆ’</span><span class="info-value" id="inf_planningType">-</span></div>
           <div class="info-item"><span class="info-label">èŒä¸š</span><span class="info-value" id="inf_career">-</span></div>
        </div>
      </div>
    </div>

    <script>
      let currentPage = 0;
      const totalPages = 13;
      const selections = {
        relationshipType: "",
        body: "",
        personality: "",
        age: "",
        currentRelation: "", // Replaces original 'relation'
        career: "",
        lifeStatus: "",
        pastExperience: "",
        maleSetting: "",
        herKink: "",
        planningType: "", // Replaces original 'myKink'
      };

      // å¤ç”¨åŸæœ¬çš„ "Couple" é€»è¾‘ç»™æ‰€æœ‰åŒäººå…³ç³»
      const lifeStatusOptions = [
          { value: "ä¸»åŠ¨çŒ®å‡º", icon: "ğŸ­", desc: "ä¸ºäº†é‡‘é’±æˆ–åˆºæ¿€ä¸»åŠ¨å‚ä¸" },
          { value: "å…±åŒæ¢ç´¢", icon: "ğŸ’‘", desc: "åŒæ–¹è¾¾æˆä¸€è‡´çš„æ€§å¼€å‘" },
          { value: "åŠæ¨åŠå°±", icon: "ğŸ˜ˆ", desc: "åœ¨ç”·æ–¹æ€‚æ¿ä¸‹å‹‰å¼ºåŒæ„" },
          { value: "ç»æµäº¤æ¢", icon: "ğŸ’¸", desc: "æ€¥éœ€ç”¨é’±ï¼Œæ— å¥ˆä¸‹æµ·" },
          { value: "å¯»æ‰¾åˆºæ¿€", icon: "ğŸ”¥", desc: "å¹³æ·¡ç”Ÿæ´»éœ€è¦è°ƒå‰‚" }
      ];

      const maleSettingOptions = [
          { value: "å¼•å¯¼è€…", icon: "ğŸ“¹", desc: "æŒæ§æ‹æ‘„èŠ‚å¥ï¼Œå¼•å¯¼å¥³æ–¹" },
          { value: "æ—è§‚è€…", icon: "ğŸ‘ï¸", desc: "çœ‹ç€å¥³æ–¹è¢«ç©å¼„ï¼Œå¶å°”å‚ä¸" },
          { value: "è¢«åŠ¨æ–¹", icon: "ğŸ¤", desc: "è¢«å¥³æ–¹æˆ–å¯¼æ¼”æ‘†å¸ƒ" },
          { value: "ç²—æš´ç”·ä¼˜", icon: "ğŸ¦", desc: "ä¸é¡¾å¥³æ–¹æ„Ÿå—çš„ç–¯ç‹‚è¾“å‡º" },
          { value: "æ¸©æŸ”ç”·ä¼´", icon: "ğŸ’•", desc: "å‘µæŠ¤å¤‡è‡³ï¼Œæƒ…æ„Ÿå……æ²›" }
      ];

      function saveData() {
        localStorage.setItem("avScriptSelection", JSON.stringify(selections));
        updateSummaryView();
      }

      function updateProgress() {
        const progress = (currentPage / (totalPages - 1)) * 100;
        document.getElementById("progressBar").style.width = progress + "%";
      }

      function showPage(pageNum) {
        document.querySelectorAll(".page").forEach((page) => {
          page.classList.remove("active");
        });
        document.getElementById("page" + pageNum).classList.add("active");
        currentPage = pageNum;
        updateProgress();

        // åŠ¨æ€ç”Ÿæˆéƒ¨åˆ†
        if (pageNum === 7) generateOptions('lifeStatusOptionsGrid', lifeStatusOptions, 'lifeStatus');
        if (pageNum === 9) generateOptions('maleSettingOptionsGrid', maleSettingOptions, 'maleSetting');
        if (pageNum === 12) updateSummaryView();
      }

      function generateOptions(gridId, optionsData, category) {
          const grid = document.getElementById(gridId);
          let html = "";
          optionsData.forEach((opt) => {
              const isSelected = selections[category] === opt.value ? "selected" : "";
              html += `
                <div class="option-card ${isSelected}" onclick="selectOption('${category}', '${opt.value}', this)">
                  <div class="icon">${opt.icon}</div>
                  <div class="label">${opt.value}</div>
                  <div class="desc">${opt.desc}</div>
                </div>
              `;
          });
          html += `
            <div class="option-card" onclick="selectCustomOption('${category}', this)">
                <div class="icon">âœï¸</div><div class="label">è‡ªå®šä¹‰</div>
                <input type="text" class="custom-input" placeholder="è¾“å…¥..." onclick="event.stopPropagation()" data-category="${category}"/>
            </div>
          `;
          grid.innerHTML = html;
          // æ£€æŸ¥æŒ‰é’®çŠ¶æ€
          const btn = document.getElementById("nextBtn" + currentPage);
          if (btn) btn.disabled = !selections[category];
      }

      function nextPage() {
        if (currentPage < totalPages - 1) showPage(currentPage + 1);
      }

      function prevPage() {
        if (currentPage > 0) showPage(currentPage - 1);
      }

      function selectOption(category, value, element) {
        const parent = element.parentElement;
        parent.querySelectorAll(".option-card").forEach((card) => card.classList.remove("selected"));
        element.classList.add("selected");
        selections[category] = value;
        saveData();
        const btn = document.getElementById("nextBtn" + currentPage);
        if (btn) btn.disabled = false;
        
        // è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨æŒ‰é’®
        const nav = document.getElementById("navButtons" + currentPage);
        if(nav) nav.scrollIntoView({ behavior: "smooth", block: "nearest" });
      }

      function selectCustomOption(category, element) {
        const parent = element.parentElement;
        parent.querySelectorAll(".option-card").forEach(c => c.classList.remove("selected"));
        element.classList.add("selected");
        const input = element.querySelector(".custom-input");
        input.focus();
        
        const btn = document.getElementById("nextBtn" + currentPage);
        
        input.addEventListener("input", function() {
            if(this.value.trim()) {
                selections[category] = this.value.trim();
                saveData();
                if(btn) btn.disabled = false;
            } else {
                selections[category] = "";
                if(btn) btn.disabled = true;
            }
        });
      }

      function updateSummaryView() {
          // æ›´æ–°æ‰€æœ‰ id="sum_..." å’Œ "inf_..." çš„å…ƒç´ 
          const map = {
              'relationshipType': selections.relationshipType,
              'body': selections.body,
              'personality': selections.personality,
              'age': selections.age,
              'currentRelation': selections.currentRelation,
              'career': selections.career,
              'lifeStatus': selections.lifeStatus,
              'pastExperience': selections.pastExperience,
              'maleSetting': selections.maleSetting,
              'herKink': selections.herKink,
              'planningType': selections.planningType
          };

          for(let key in map) {
              const val = map[key] || "-";
              const sumEl = document.getElementById("sum_" + key);
              const infEl = document.getElementById("inf_" + key);
              if(sumEl) sumEl.textContent = val;
              if(infEl) infEl.textContent = val;
          }
      }

      function submitSelection() {
        showModal(
            "ç”Ÿæˆå‰§æœ¬", 
            "å‡†å¤‡ç”ŸæˆAVä¼åˆ’Prompt...<br>è¯·åœ¨AIå›å¤åå¼€å§‹æ¸¸æˆã€‚", 
            function() {
                // æ„å»º Prompt
                const msg = `ã€AVä¼åˆ’ä¹¦ç”Ÿæˆã€‘
1. **å…³ç³»ç±»å‹**: ${selections.relationshipType}
2. **å¥³ä¼˜èµ„æ–™**: ${selections.age}ï¼Œ${selections.body}ï¼Œ${selections.career}
3. **æ€§æ ¼è®¾å®š**: ${selections.personality} (æ€§ç™–: ${selections.herKink})
4. **å½“å‰çŠ¶æ€**: ä¸¤äººå…³ç³»${selections.currentRelation}ï¼Œå‚ä¸åŸå› æ˜¯${selections.lifeStatus}
5. **ç”·æ–¹è§’è‰²**: ${selections.maleSetting}
6. **ä¼åˆ’ä¸»é¢˜**: ã€${selections.planningType}ã€‘
7. **è¿‡å¾€ç»å†**: ${selections.pastExperience}

è¯·æ ¹æ®ä»¥ä¸Šè®¾å®šï¼Œæ‰®æ¼”å¯¼æ¼”æˆ–æ—ç™½ï¼Œè¯¦ç»†æè¿°æœ¬æ¬¡AVæ‹æ‘„çš„å¼€åœºã€åœºæ™¯å¸ƒç½®ä»¥åŠä¸¤äººçš„äº’åŠ¨å¼ åŠ›ã€‚`;
                
                const command = `/send ${msg} | /trigger`;
                
                if (typeof triggerSlash === "function") {
                    triggerSlash(command);
                    // localStorage.removeItem("avScriptSelection"); // å¯é€‰ï¼šæäº¤åæ¸…é™¤
                } else {
                    alert("æœªæ£€æµ‹åˆ°SillyTavernç¯å¢ƒï¼ŒPromptå¦‚ä¸‹:\n\n" + msg);
                }
            }
        );
      }

      function randomSelection() {
          const pools = {
              relationshipType: ["æƒ…ä¾£", "å¤«å¦»", "æ¯å­", "å§å¼Ÿ", "çˆ¶å¥³"],
              body: ["ä¸°æ»¡å¾¡å§", "çº¤ç»†å°‘å¦‡", "å¾®èƒ–äººå¦»", "å¥ç¾è¾£å¦ˆ"],
              personality: ["æ¸©æŸ”è´¤æƒ ", "é£éªšæµªè¡", "é«˜å†·å‚²å¨‡", "æ¸…çº¯ä¿å®ˆ"],
              age: ["20-25å²", "25-30å²", "35-40å²"],
              currentRelation: ["æ©çˆ±", "åµæ¶", "ç–è¿œ", "ç´§å¼ "],
              career: ["ç™½é¢†OL", "æŠ¤å£«", "æ•™å¸ˆ", "å®¶åº­ä¸»å¦‡"],
              lifeStatus: ["å…±åŒæ¢ç´¢", "ç»æµäº¤æ¢", "å¯»æ‰¾åˆºæ¿€"],
              pastExperience: ["æ¸…çº¯ç™½çº¸", "ç»éªŒä¸°å¯Œ"],
              maleSetting: ["å¼•å¯¼è€…", "ç²—æš´ç”·ä¼˜", "æ¸©æŸ”ç”·ä¼´"],
              herKink: ["Må±æ€§", "ä¸»åŠ¨ç´¢å–"],
              planningType: ["ç²¾æ²¹æŒ‰æ‘©", "é­”é•œå·", "çºªå¿µç…§", "æ€§çˆ±é—®ç­”", "æœ¨å¤´äºº"]
          };
          
          for(let key in pools) {
              selections[key] = pools[key][Math.floor(Math.random() * pools[key].length)];
          }
          saveData();
          showPage(12); // Jump to summary
      }
      
      function showModal(title, msg, onConfirm) {
          const modal = document.getElementById("confirmModal");
          modal.querySelector(".modal-title").textContent = title;
          modal.querySelector(".modal-message").innerHTML = msg;
          const btns = modal.querySelector(".modal-buttons");
          btns.innerHTML = '';
          
          const confirmBtn = document.createElement("button");
          confirmBtn.className = "modal-btn modal-btn-confirm";
          confirmBtn.textContent = "ç¡®å®š";
          confirmBtn.onclick = function() {
              modal.classList.remove("active");
              if(onConfirm) onConfirm();
          };
          
          const cancelBtn = document.createElement("button");
          cancelBtn.className = "modal-btn";
          cancelBtn.style.background = "#ccc";
          cancelBtn.textContent = "å–æ¶ˆ";
          cancelBtn.onclick = () => modal.classList.remove("active");
          
          btns.appendChild(cancelBtn);
          btns.appendChild(confirmBtn);
          modal.classList.add("active");
      }

      function toggleTheme() {
        const body = document.body;
        const icon = document.getElementById("theme-icon");
        if (body.getAttribute("data-theme") === "light") {
          body.removeAttribute("data-theme");
          icon.textContent = "ğŸŒ™";
        } else {
          body.setAttribute("data-theme", "light");
          icon.textContent = "â˜€ï¸";
        }
      }
      
      // Init input listeners
      document.querySelectorAll(".custom-input").forEach(input => {
          input.addEventListener("keydown", function(e) {
              if (e.key === "Enter") {
                  e.preventDefault();
                  if(this.value.trim()) nextPage();
              }
          });
      });

      updateProgress();
      updateSummaryView();
    </script>
  </body>
</html>